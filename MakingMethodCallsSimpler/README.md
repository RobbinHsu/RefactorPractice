### 將查詢函式和修改函式分離(Separate Query From Modifier)

* 某個函式傳回物件狀態值，又修改物件狀態。

* 建立兩個不同函式，其中一個負責查詢，一個負責修改  

如果一個函示同時具備上述兩點，有很高的機會違反了單一物件原則(Single responsibility principle)。  

重構的過程中，又要把迴圈複製成兩份，乍看之下很違反人性(或是說工程師的直覺!?)。
但是也因為分開之後，最後才能把 SendAlert 函式簡化。

當然，最後還是讓迴圈跑了兩次，但是效能問題，就如前面說的，最後再來處理吧。